(window.webpackJsonp=window.webpackJsonp||[]).push([[424],{740:function(s,a,n){"use strict";n.r(a);var e=n(7),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"一、创建一个项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、创建一个项目"}},[s._v("#")]),s._v(" 一、创建一个项目")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.yuyanqing.cn/oss/image-bed/col/jenkins/Snipaste_2023-02-19_00-02-08.png",alt:""}})]),s._v(" "),a("h1",{attrs:{id:"二、同一个jenkins中复制job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、同一个jenkins中复制job"}},[s._v("#")]),s._v(" 二、同一个Jenkins中复制job")]),s._v(" "),a("p",[s._v("New Job时选择Copy from一个已有的job即可。也就是在下方上面的红框中输入你新建job的名称，在下面的红框中输入你想要复制的job(已经建好的job)，然后点击确定。这样就完后了复制。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.yuyanqing.cn/oss/image-bed/col/jenkins/Snipaste_2023-02-18_23-38-18.png",alt:""}})]),s._v(" "),a("h1",{attrs:{id:"三、跨jenkins复制job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、跨jenkins复制job"}},[s._v("#")]),s._v(" 三、跨Jenkins复制job")]),s._v(" "),a("h2",{attrs:{id:"方法一-直接复制jobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一-直接复制jobs"}},[s._v("#")]),s._v(" "),a("strong",[s._v("方法一：直接复制jobs")])]),s._v(" "),a("p",[s._v("（1）Jenkins的job都在"),a("code",[s._v("$JENKINS_HOME/jobs")]),s._v("目录下（一般都在"),a("code",[s._v("/var/lib/jenkins/jobs")]),s._v("， 例如我的在"),a("code",[s._v("/root/.jenkins/jobs")])]),s._v(" "),a("p",[s._v("复制全部job：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/.jenkins/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在源Jenkins上压缩jobs目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-czvf")]),s._v(" jobs.tar.gz "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jobs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在目标Jenkins上解压jobs目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" jobs.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("复制某一个job：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/lib/jenkins/jobs\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在源Jenkins上压缩指定的job目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-czvf")]),s._v(" myjob.tar.gz myjob\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在目标Jenkins上解压指定的job目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" myjob.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("（2）然后在目标Jenkins上，打开Manage Jenkins（系统管理），选择Reload Configuration from Disk（读取设置）。我的是中文版的，点击下面的图标")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.yuyanqing.cn/oss/image-bed/col/jenkins/Snipaste_2023-02-18_23-53-31.png",alt:""}})]),s._v(" "),a("p",[s._v("注意：不需要重启Jenkins。")]),s._v(" "),a("h2",{attrs:{id:"方法一-用jenkins-cli来导出和导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一-用jenkins-cli来导出和导入"}},[s._v("#")]),s._v(" "),a("strong",[s._v("方法一：用Jenkins-CLI来导出和导入")])]),s._v(" "),a("p",[s._v("（1）在Jenkins上，打开Manage Jenkins，打开Jenkins-CLI（中文版：Jenkins命令行接口）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.yuyanqing.cn/oss/image-bed/col/jenkins/caf861dee2acb5fd77990af0f512faf7.png",alt:""}})]),s._v(" "),a("p",[s._v("（2）下载jenkins-cli.jar，按照Jenkins-CLI页面的指引来操作：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.yuyanqing.cn/oss/image-bed/col/jenkins/Snipaste_2023-02-18_23-59-18.png",alt:""}})]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出一个job")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" jenkins-cli.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" http://ip:8095/ get-job myjob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" myjob.xml\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导入一个jobs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" jenkins-cli.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" http://ip:809/ get-job myjob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" myjob.xml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("注意：我Jenkins的端口是8095，大家按自己的填写就行")]),s._v(" "),a("p",[s._v("（3）然后在目标Jenkins上，打开Manage Jenkins（系统管理），选择Reload Configuration from Disk（读取设置）。")]),s._v(" "),a("p",[s._v("注意：不需要重启Jenkins。")]),s._v(" "),a("p",[s._v("（4）这种方法在本地操作时会遇到ERROR: anonymous is missing the Overall/Read permission的错，原因是为了安全考虑Jenkins默认不允许直接通过jenkins-cli来调用。")]),s._v(" "),a("p",[s._v("解决方案：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://stackoverflow.com/questions/51038858/jenkins-cli-error-anonymous-is-missing-the-overall-read-permission\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);