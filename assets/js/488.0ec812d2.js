(window.webpackJsonp=window.webpackJsonp||[]).push([[488],{804:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("blockquote",[a("p",[s._v("本篇为elasticseach系列片第一章,大家一起先把es的环境搭建起来,有需要elk整合方式的见文章最后部分(注:本篇整合elk为简单版本,没有对后续大规模日志输出带来性能压力的处理,适用于自学或开发测试阶段)")])]),s._v(" "),a("h2",{attrs:{id:"搭建es集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建es集群"}},[s._v("#")]),s._v(" 搭建es集群")]),s._v(" "),a("p",[a("strong",[s._v("1.准备好es的宿主机上的映射路径赋予最高权限")])]),s._v(" "),a("blockquote",[a("p",[s._v("准备三台机器,本篇所涉及192.168.182.2,119.29.213.183,114.132.233.15为三台虚拟机,内存为16g,涉及es启动命令的内存设置可根据自身机器做调整")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 插件所需目录并递归式赋权")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /opt/es/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("data,config,plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" /opt/es "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/es\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# data:存放数据的目录 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# config:存放配置文件的目录 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plugins:存放插件的目录")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("2.编写elasticsearch.yml")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[s._v("cat << EOF "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("/opt/es/config/elasticsearch.yml\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster.name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" elasticsearch\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node.name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" es"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("master\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node.master")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node.data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path.data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /usr/share/elasticsearch/data\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path.logs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /usr/share/elasticsearch/logs\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network.bind_host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0.0.0.0\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network.publish_host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 119.29.213.183\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http.port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("transport.tcp.port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http.cors.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http.cors.allow-origin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bootstrap.memory_lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bootstrap.system_call_filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery.zen.minimum_master_nodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery.seed_hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"119.29.213.183:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"106.52.217.40:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"114.132.233.15:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster.initial_master_nodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"119.29.213.183:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"106.52.217.40:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"114.132.233.15:9300"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.enrollment.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.transport.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.transport.ssl.verification_mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" certificate \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.transport.ssl.keystore.path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" elastic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("certificates.p12 \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xpack.security.transport.ssl.truststore.path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" elastic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("certificates.p12\nEOF\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("cluster.name")]),s._v(" "),a("td",[s._v("集群名称，相同名称为一个集群")])]),s._v(" "),a("tr",[a("td",[s._v("node.name")]),s._v(" "),a("td",[s._v("节点名称，集群模式下每个节点名称唯一")])]),s._v(" "),a("tr",[a("td",[s._v("node.master")]),s._v(" "),a("td",[s._v("当前节点是否可以被选举为master节点，是：true、否：false")])]),s._v(" "),a("tr",[a("td",[s._v("node.data")]),s._v(" "),a("td",[s._v("当前节点是否用于存储数据，是：true、否：false")])]),s._v(" "),a("tr",[a("td",[s._v("path.data")]),s._v(" "),a("td",[s._v("索引数据存放的位置")])]),s._v(" "),a("tr",[a("td",[s._v("path.logs")]),s._v(" "),a("td",[s._v("日志文件存放的位置")])]),s._v(" "),a("tr",[a("td",[s._v("network.host")]),s._v(" "),a("td",[s._v("监听地址，用于访问该es")])]),s._v(" "),a("tr",[a("td",[s._v("network.publish_host")]),s._v(" "),a("td",[s._v("可设置成内网ip，用于集群内各机器间通信")])]),s._v(" "),a("tr",[a("td",[s._v("http.port")]),s._v(" "),a("td",[s._v("es对外提供的http端口，默认 9200")])]),s._v(" "),a("tr",[a("td",[s._v("http.cors.enabled")]),s._v(" "),a("td",[s._v("是否支持跨域，是：true，在使用head插件时需要此配置")])]),s._v(" "),a("tr",[a("td",[s._v("http.cors.allow-origin")]),s._v(" "),a("td",[s._v("“*” 表示支持所有域名")])]),s._v(" "),a("tr",[a("td",[s._v("bootstrap.memory_lock")]),s._v(" "),a("td",[s._v("需求锁住物理内存，是：true、否：false")])]),s._v(" "),a("tr",[a("td",[s._v("bootstrap.system_call_filter")]),s._v(" "),a("td",[s._v("SecComp检测，是：true、否：false")])]),s._v(" "),a("tr",[a("td",[s._v("discovery.seed_hosts")]),s._v(" "),a("td",[s._v("es7.x 之后新增的配置，写入候选主节点的设备地址，在开启服务后可以被选为主节点")])]),s._v(" "),a("tr",[a("td",[s._v("cluster.initial_master_nodes")]),s._v(" "),a("td",[s._v("es7.x 之后新增的配置，初始化一个新的集群时需要此配置来选举master")])])])]),s._v(" "),a("p",[a("strong",[s._v("启动命令:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# master")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" es-master "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms512m -Xmx1g"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTIC_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"E0GP_D6J0VIQNiC5kJtNhGE5DHTnc"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Des.insecure.allow.root=true"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/data:/usr/share/elasticsearch/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/plugins:/usr/share/elasticsearch/plugins  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always elasticsearch:8.3.3\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# salve 需要先进入master创建一个token")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" es-master /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" es-master "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms1g -Xmx1g"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTIC_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("E0GP_D6J0VIQNiC5kJtNhGE5DHTnc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/data:/usr/share/elasticsearch/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /opt/es/plugins:/usr/share/elasticsearch/plugins  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always elasticsearch:8.3.3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h1",{attrs:{id:"docker-compose-yaml部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yaml部署"}},[s._v("#")]),s._v(" docker-compose.yaml部署")]),s._v(" "),a("p",[s._v("创建所需目录及yml")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /opt/elk/es0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,2")]),s._v(",3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/data\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /opt/elk/es0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,2")]),s._v(",3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/logs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /opt/elk/kibana/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("data,config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /opt/elk/logstash/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("data,config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /opt/elk/*\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("设置环境变量")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# elastic账号的密码 (至少六个字符)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTIC_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123568")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kibana_system账号的密码 (至少六个字符)，该账号仅用于一些kibana的内部设置，不能用来查询es")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KIBANA_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123568")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es和kibana的版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("STACK_VERSION")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.6")]),s._v(".2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 集群名字")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLUSTER_NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker-cluster\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# x-pack安全设置，这里选择basic，基础设置，如果选择了trail，则会在30天后到期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LICENSE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("basic\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LICENSE=trial")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es映射到宿主机的的端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kibana映射到宿主机的的端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KIBANA_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5601")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es容器的内存大小，请根据自己硬件情况调整")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MEM_LIMIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1073741824")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Project namespace (defaults to the current folder name if not set)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COMPOSE_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("version: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.7"')]),s._v("\n\nservices:\n  setup:\n    image: elasticsearch:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${STACK_VERSION}")]),s._v("\n    volumes:\n      - ./certs:/usr/share/elasticsearch/config/certs\n    user: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),s._v("\n    command: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'\n        if [ x${ELASTIC_PASSWORD} == x ]; then\n          echo "Set the ELASTIC_PASSWORD environment variable in the .env file";\n          exit 1;\n        elif [ x${KIBANA_PASSWORD} == x ]; then\n          echo "Set the KIBANA_PASSWORD environment variable in the .env file";\n          exit 1;\n        fi;\n        if [ ! -f config/certs/ca.zip ]; then\n          echo "Creating CA";\n          bin/elasticsearch-certutil ca --silent --pem -out config/certs/ca.zip;\n          unzip config/certs/ca.zip -d config/certs;\n        fi;\n        if [ ! -f config/certs/certs.zip ]; then\n          echo "Creating certs";\n          echo -ne \\\n          "instances:\\n"\\\n          "  - name: es01\\n"\\\n          "    dns:\\n"\\\n          "      - es01\\n"\\\n          "      - localhost\\n"\\\n          "    ip:\\n"\\\n          "      - 127.0.0.1\\n"\\\n          "  - name: es02\\n"\\\n          "    dns:\\n"\\\n          "      - es02\\n"\\\n          "      - localhost\\n"\\\n          "    ip:\\n"\\\n          "      - 127.0.0.1\\n"\\\n          "  - name: es03\\n"\\\n          "    dns:\\n"\\\n          "      - es03\\n"\\\n          "      - localhost\\n"\\\n          "    ip:\\n"\\\n          "      - 127.0.0.1\\n"\\\n          > config/certs/instances.yml;\n          bin/elasticsearch-certutil cert --silent --pem -out config/certs/certs.zip --in config/certs/instances.yml --ca-cert config/certs/ca/ca.crt --ca-key config/certs/ca/ca.key;\n          unzip config/certs/certs.zip -d config/certs;\n        fi;\n        echo "Setting file permissions"\n        chown -R root:root config/certs;\n        find . -type d -exec chmod 750 \\{\\} \\;;\n        find . -type f -exec chmod 640 \\{\\} \\;;\n        echo "Waiting for Elasticsearch availability";\n        until curl -s --cacert config/certs/ca/ca.crt https://es01:9200 | grep -q "missing authentication credentials"; do sleep 30; done;\n        echo "Setting kibana_system password";\n        until curl -s -X POST --cacert config/certs/ca/ca.crt -u "elastic:${ELASTIC_PASSWORD}" -H "Content-Type: application/json" https://es01:9200/_security/user/kibana_system/_password -d "{\\"password\\":\\"${KIBANA_PASSWORD}\\"}" | grep -q "^{}"; do sleep 10; done;\n        echo "All done!";\n      \'')]),s._v("\n    healthcheck:\n      test: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD-SHELL"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[ -f config/certs/es01/es01.crt ]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 1s\n      timeout: 5s\n      retries: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n\n  es01:\n    container_name: es01\n    depends_on:\n      setup:\n        condition: service_healthy\n    image: elasticsearch:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${STACK_VERSION}")]),s._v("\n    volumes:\n      - ./certs:/usr/share/elasticsearch/config/certs\n      - ./es01/data:/usr/share/elasticsearch/data\n      - ./es01/logs:/usr/share/elasticsearch/logs\n    ports:\n      - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200\n      - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300\n    environment:\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("node.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CLUSTER_NAME}")]),s._v("\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.initial_master_nodes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01,es02,es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("discovery.seed_hosts")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es02,es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTIC_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ELASTIC_PASSWORD}")]),s._v("\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bootstrap.memory_lock")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es01/es01.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es01/es01.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es01/es01.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es01/es01.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.verification_mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certificate\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.license.self_generated.type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LICENSE}")]),s._v("\n    mem_limit: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MEM_LIMIT}")]),s._v("\n    ulimits:\n      memlock:\n        soft: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n        hard: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n    deploy:\n      resources:\n        limits:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.5'")]),s._v("\n          memory: 1g\n        reservations:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.25'")]),s._v("\n          memory: 512m\n    healthcheck:\n      test:\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD-SHELL"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"curl -s --cacert config/certs/ca/ca.crt https://localhost:9200 | grep -q 'missing authentication credentials'\"")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 10s\n      timeout: 10s\n      retries: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n\n  es02:\n    container_name: es02\n    depends_on:\n      - es01\n    image: elasticsearch:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${STACK_VERSION}")]),s._v("\n    volumes:\n      - ./certs:/usr/share/elasticsearch/config/certs\n      - ./es02/data:/usr/share/elasticsearch/data\n      - ./es02/logs:/usr/share/elasticsearch/logs\n    environment:\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("node.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es02\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CLUSTER_NAME}")]),s._v("\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.initial_master_nodes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01,es02,es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("discovery.seed_hosts")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01,es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bootstrap.memory_lock")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es02/es02.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es02/es02.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es02/es02.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es02/es02.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.verification_mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certificate\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.license.self_generated.type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LICENSE}")]),s._v("\n    mem_limit: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MEM_LIMIT}")]),s._v("\n    ulimits:\n      memlock:\n        soft: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n        hard: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n    deploy:\n      resources:\n        limits:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.5'")]),s._v("\n          memory: 1g\n        reservations:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.25'")]),s._v("\n          memory: 512m\n    healthcheck:\n      test:\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD-SHELL"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"curl -s --cacert config/certs/ca/ca.crt https://localhost:9200 | grep -q 'missing authentication credentials'\"")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 10s\n      timeout: 10s\n      retries: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n\n  es03:\n    container_name: es03\n    depends_on:\n      - es02\n    image: elasticsearch:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${STACK_VERSION}")]),s._v("\n    volumes:\n      - ./certs:/usr/share/elasticsearch/config/certs\n      - ./es03/logs:/usr/share/elasticsearch/logs\n      - ./es03/data:/usr/share/elasticsearch/data\n    environment:\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("node.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CLUSTER_NAME}")]),s._v("\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cluster.initial_master_nodes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01,es02,es03\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("discovery.seed_hosts")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("es01,es02\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bootstrap.memory_lock")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es03/es03.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es03/es03.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.http.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es03/es03.key\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/es03/es03.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.certificate_authorities")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certs/ca/ca.crt\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.security.transport.ssl.verification_mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("certificate\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xpack.license.self_generated.type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LICENSE}")]),s._v("\n    mem_limit: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MEM_LIMIT}")]),s._v("\n    ulimits:\n      memlock:\n        soft: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n        hard: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n    deploy:\n      resources:\n        limits:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.5'")]),s._v("\n          memory: 1g\n        reservations:\n          cpus: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.25'")]),s._v("\n          memory: 512m\n    healthcheck:\n      test:\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD-SHELL"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"curl -s --cacert config/certs/ca/ca.crt https://localhost:9200 | grep -q 'missing authentication credentials'\"")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 10s\n      timeout: 10s\n      retries: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n\n  kibana:\n    container_name: kibana\n    depends_on:\n      es01:\n        condition: service_healthy\n      es02:\n        condition: service_healthy\n      es03:\n        condition: service_healthy\n    image: kibana:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${STACK_VERSION}")]),s._v("\n    volumes:\n      - ./certs:/usr/share/kibana/config/certs\n      - /opt/elk/kibana/data:/usr/share/kibana/data\n    ports:\n      - "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KIBANA_PORT}")]),s._v(":5601\n    environment:\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kibana\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTICSEARCH_HOSTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://es01:9200\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTICSEARCH_USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kibana_system\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTICSEARCH_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KIBANA_PASSWORD}")]),s._v("\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_PUBLICBASEURL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://192.168.31.216:5601\n      - "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ELASTICSEARCH_SSL_CERTIFICATEAUTHORITIES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("config/certs/ca/ca.crt\n    mem_limit: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MEM_LIMIT}")]),s._v("\n    healthcheck:\n      test:\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD-SHELL"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"curl -s -I http://localhost:5601 | grep -q 'HTTP/1.1 302 Found'\"")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 10s\n      timeout: 10s\n      retries: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);