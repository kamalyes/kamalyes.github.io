(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{706:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker-配置阿里云镜像加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-配置阿里云镜像加速"}},[s._v("#")]),s._v(" Docker 配置阿里云镜像加速")]),s._v(" "),a("h2",{attrs:{id:"_1-登录阿里云"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-登录阿里云"}},[s._v("#")]),s._v(" 1.登录阿里云")]),s._v(" "),a("p",[s._v("注册阿里云，也可以使用淘宝账号进行登录，然后依次点击---》控制台---》页面左上角的产品与服务--》弹性计算--》容器镜像服务--》镜像加速器，查看自己的加速器地址，然后根据自己的操作系统版本选择自己的操作文档。")]),s._v(" "),a("h2",{attrs:{id:"_2-配置文件地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置文件地址"}},[s._v("#")]),s._v(" 2.配置文件地址")]),s._v(" "),a("p",[s._v("CentOS7 下的配置文件所在位置为/etc/docker/")]),s._v(" "),a("h2",{attrs:{id:"_3-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置"}},[s._v("#")]),s._v(" 3.配置")]),s._v(" "),a("p",[s._v("使用下面的命令配置 daemon.json 文件(阿里云的操作文档中有配置的命令)")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v('//如果不存在此文件，请先创建此文件\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n"registry-mirrors": ["https://xxxxxxx.mirror.aliyuncs.com"]\n}\n EOF\n //https://xxxxxxx.mirror.aliyuncs.com 是自己的镜像加速器地址\n')])])]),a("h2",{attrs:{id:"_4-重启服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-重启服务"}},[s._v("#")]),s._v(" 4.重启服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_5-查看自己的配置信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-查看自己的配置信息"}},[s._v("#")]),s._v(" 5.查看自己的配置信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS6.8中可以看到自己的镜像加速地址，CentOS7中无法看到自己的镜像地址，可以看到两个Docker进程。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_6-测试-docker-的拉取速度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-测试-docker-的拉取速度"}},[s._v("#")]),s._v(" 6.测试 Docker 的拉取速度")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从阿里云拉取nginx镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看本地的镜像文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到存在nginx的镜像文件，且拉取速度较快(与自己的网速也有关系)。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);