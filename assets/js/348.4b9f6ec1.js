(window.webpackJsonp=window.webpackJsonp||[]).push([[348],{663:function(t,s,a){"use strict";a.r(s);var r=a(7),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("strong",[t._v("如果你还想从头学起 Docker，可以看看这个系列的文章哦！")])]),t._v(" "),s("h2",{attrs:{id:"作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),s("p",[t._v("在容器和主机之间复制文件/文件夹")]),t._v(" "),s("h2",{attrs:{id:"语法格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法格式"}},[t._v("#")]),t._v(" 语法格式")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER:SRC_PATH DEST_PATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" SRC_PATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- CONTAINER:DEST_PATH\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"重点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重点"}},[t._v("#")]),t._v(" 重点")]),t._v(" "),s("ul",[s("li",[t._v("容器 container 可以是正在运行或已停止的容器")]),t._v(" "),s("li",[t._v("SRC_PATH 或 DEST_PATH可以是文件或目录 ")]),t._v(" "),s("li",[t._v("该命令会假定容器路径相对于容器的 /（根）目录")]),t._v(" "),s("li",[t._v("而主机路径则是相对于执行 docker cp 命令的当前目录")])]),t._v(" "),s("h4",{attrs:{id:"options-说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-说明"}},[t._v("#")]),t._v(" options 说明")]),t._v(" "),s("table",{attrs:{border:"0"}},[s("tbody",[s("tr",[s("td",[t._v("option")]),t._v(" "),s("td",[t._v("作用")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",[t._v("存档模式（复制所有uid / gid信息）")])]),t._v(" "),s("tr",[s("td",[t._v("-L ")]),t._v(" "),s("td",[t._v("保持源目标中的链接")])])])]),t._v(" "),s("p",[s("strong",[t._v("备注：")]),t._v(" 暂时没发现这两个 options 有啥用")]),t._v(" "),s("h2",{attrs:{id:"src-path-和-dest-path-的讲解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-path-和-dest-path-的讲解"}},[t._v("#")]),t._v(" SRC_PATH 和 DEST_PATH 的讲解")]),t._v(" "),s("h3",{attrs:{id:"src-path-指定一个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-path-指定一个文件"}},[t._v("#")]),t._v(" SRC_PATH 指定一个文件")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path-不存在"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在")]),t._v(" "),s("p",[t._v("创建 DEST_PATH 所需的文件夹，文件正常保存到 DEST_PATH 中")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path-不存在-并以-结尾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在-并以-结尾"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在，并以 / 结尾")]),t._v(" "),s("p",[t._v("错误：目标目录必须存在")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path-存在并且是一个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-存在并且是一个文件"}},[t._v("#")]),t._v(" 若 DEST_PATH 存在并且是一个文件")]),t._v(" "),s("p",[t._v("目标被源文件的内容覆盖")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path-存在并且是目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-存在并且是目录"}},[t._v("#")]),t._v(" 若 DEST_PATH 存在并且是目录")]),t._v(" "),s("p",[t._v("使用 SRC_PATH 中的基本名称将文件复制到此目录中")]),t._v(" "),s("h3",{attrs:{id:"src-path指定目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-path指定目录"}},[t._v("#")]),t._v(" SRC_PATH指定目录")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path-不存在-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在-2"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在")]),t._v(" "),s("p",[t._v("将 DEST_PATH 创建为目录，并将源目录的内容复制到该目录中")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path存在并且是一个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path存在并且是一个文件"}},[t._v("#")]),t._v(" 若 DEST_PATH存在并且是一个文件")]),t._v(" "),s("p",[t._v("错误：无法将目录复制到文件")]),t._v(" "),s("h4",{attrs:{id:"若-dest-path存在并且是目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path存在并且是目录"}},[t._v("#")]),t._v(" 若 DEST_PATH存在并且是目录")]),t._v(" "),s("ul",[s("li",[t._v("SRC_PATH 不以&nbsp/. 结尾，源目录复制到此目录")]),t._v(" "),s("li",[t._v("SRC_PATH 以&nbsp/. 结尾，源目录的内容被复制到该目录中")])]),t._v(" "),s("h2",{attrs:{id:"实际栗子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际栗子"}},[t._v("#")]),t._v(" 实际栗子")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" tomcat7:usr/local/tomcat/README.md ./ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从容器复制文件到主机")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" tomcat7:/usr/local/tomcat/webapps.list /usr/local/  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从容器复制文件夹到主机")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" test.txt tomcat7:/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从主机复制文件到容器")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" tomcat7:test/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从主机复制文件夹到容器")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);