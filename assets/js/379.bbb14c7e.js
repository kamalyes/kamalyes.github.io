(window.webpackJsonp=window.webpackJsonp||[]).push([[379],{693:function(s,a,e){"use strict";e.r(a);var t=e(7),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"expose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expose"}},[s._v("#")]),s._v(" EXPOSE")]),s._v(" "),a("p",[s._v("通知 Docker 容器在运行时监听指定的网络端口")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("EXPOSE 端口号\nEXPOSE 端口号/协议\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("默认协议是 TCP")]),s._v(" "),a("h4",{attrs:{id:"同时在-tcp、udp-上暴露端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同时在-tcp、udp-上暴露端口"}},[s._v("#")]),s._v(" 同时在 TCP、UDP 上暴露端口")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("EXPOSE "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\nEXPOSE "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/udp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"expose-原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expose-原理"}},[s._v("#")]),s._v(" EXPOSE 原理")]),s._v(" "),a("ul",[a("li",[s._v("个人理解：EXPOSE  暴露的端口更像是指明了该容器提供的服务需要用到的端口")]),s._v(" "),a("li",[s._v("EXPOSE 并不会直接将端口自动和宿主机某个端口建立映射关系")]),s._v(" "),a("li",[s._v("如果 docker run，指定了自动映射 -P，那么会将所有暴露的端口随机映射到宿主机的高阶端口")]),s._v(" "),a("li",[s._v("如果 docker run，指定了 --net=host 宿主机网络模式，容器中 EXPOSE 指令暴露的端口会直接使用宿主机对应的端口，不存在映射关系")]),s._v(" "),a("li",[s._v("如果 EXPOSE 暴露的端口确定要和某个宿主机端口建立映射关系，还是要用到 docker run -p 参数")]),s._v(" "),a("li",[s._v("EXPOSE 显式地标明镜像开放端口，一定程度上提供了操作的便利，也提高了 Dockerfile 的可读性和可维护性")])])])}),[],!1,null,null,null);a.default=r.exports}}]);