(window.webpackJsonp=window.webpackJsonp||[]).push([[364],{677:function(s,t,a){"use strict";a.r(t);var e=a(7),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("strong",[s._v("如果你还想从头学起 Docker，可以看看这个系列的文章哦！")])]),s._v(" "),t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("ul",[t("li",[s._v("有时候创建容器时忘了添加 --restart 参数，导致 Docker 服务重启后，容器不会自动启动，每次都需要手动启动，很不方便")]),s._v(" "),t("li",[s._v("那现在如何针对已创建的容器修改 --restart 参数呢")])]),s._v(" "),t("h2",{attrs:{id:"docker-命令修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-命令修改"}},[s._v("#")]),s._v(" Docker 命令修改")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" update "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always 容器名字/ID\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"修改容器的配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改容器的配置文件"}},[s._v("#")]),s._v(" 修改容器的配置文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl stop "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂停 Docker 服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/lib/docker/containers/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("br"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("ls "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 Docker 容器配置文件目录下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" hostconfig.json "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 hostconfig.json")]),s._v("\n修改完后 退出并保存此文件\nsystemctl stop "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新启动 Docker 服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 就能看到自启动的容器了")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);